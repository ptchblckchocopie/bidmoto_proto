import{a as y,f as $,b as Pt}from"../chunks/D_ansCh4.js";import{o as Tt}from"../chunks/YuJsNucz.js";import{U as Rt,aH as Et,p as Wt,a as Ht,y as o,c as l,A as Z,r as d,N as yt,aw as Ft,f as pt,t as X,ax as Gt,s as r,n as wt,av as Mt,aE as St}from"../chunks/Cl0DMWZv.js";import{d as Xt,e as Yt,a as b,s as ut}from"../chunks/Cv63ugJo.js";import{B as It,i as Y,a as At}from"../chunks/BTM6jyxq.js";import{s as x}from"../chunks/D9jd4Gan.js";import{a as jt,s as Vt}from"../chunks/BF7g9if2.js";import{g as Dt}from"../chunks/eE_TcHx0.js";import{p as Nt}from"../chunks/DbvR7NoS.js";import{E as qt,F as Zt}from"../chunks/CYvOnIj9.js";import{u as kt}from"../chunks/BnVcnDgT.js";import{i as Jt}from"../chunks/CeNTN4C9.js";import{b as Ct}from"../chunks/D-OXtg45.js";import{d as Kt,S as Qt,O as te,c as ee,a as oe,E as ae,L as Bt,b as $t,B as zt,l as Lt,m as re,n as se,g as ne,h as ie,i as ce,j as le,k as de,T as he,V as _t}from"../chunks/BfWXKq_L.js";function pe(U,z,...L){var k=new It(U);Rt(()=>{const M=z()??null;k.ensure(M,M&&(J=>M(J,...L)))},Et)}const ue=async()=>{{const U=localStorage.getItem("auth_token"),z=localStorage.getItem("user_data");if(U&&z)try{return{user:JSON.parse(z),isAuthenticated:!0}}catch{return{user:null,isAuthenticated:!1}}}return{user:null,isAuthenticated:!1}},me=!1,Ge=Object.freeze(Object.defineProperty({__proto__:null,load:ue,ssr:me},Symbol.toStringTag,{value:"Module"}));var be=$('<div class="three-background svelte-1fjchhj"><canvas class="svelte-1fjchhj"></canvas></div>');function ve(U,z){Wt(z,!1);let L=yt(),k=yt();Tt(()=>{const s=Kt(),S=new Qt,n=50;let u=window.innerWidth/window.innerHeight;const P=new te(-n*u/2,n*u/2,n/2,-n/2,.1,100);P.position.z=50;const m=ee(o(L),s);m.setSize(window.innerWidth,window.innerHeight);const K=oe(o(k)),I=Math.min(s.maxShapes,15),Q=[()=>new le(2,2,2),()=>new de(1.5),()=>new he(1.5)],ct=[];for(let i=0;i<I;i++){const G=Q[i%Q.length],v=G(),g=new ae(v),_=new Bt({color:0,transparent:!0,opacity:.06}),W=new $t(g,_);v.dispose();const st=n*u/2,e=n/2;W.position.set((Math.random()-.5)*st*2,(Math.random()-.5)*e*2,0);const c=.8+Math.random()*1.5;W.scale.set(c,c,c),S.add(W),ct.push({mesh:W,velocity:new _t((Math.random()-.5)*.3,(Math.random()-.5)*.3,0),rotSpeed:new _t((Math.random()-.5)*.2,(Math.random()-.5)*.2,(Math.random()-.5)*.1)})}const O=Math.round(200*s.particleMultiplier),R=new Float32Array(O*3),T=[],tt=n*u/2,lt=n/2;for(let i=0;i<O;i++)R[i*3]=(Math.random()-.5)*tt*2,R[i*3+1]=(Math.random()-.5)*lt*2,R[i*3+2]=0,T.push(new _t((Math.random()-.5)*.15,(Math.random()-.5)*.15,0));const E=new zt;E.setAttribute("position",new Lt(R,3));const dt=new re({color:0,transparent:!0,opacity:.08,size:1.5,sizeAttenuation:!1}),et=new se(E,dt);S.add(et);const ht=s.tier==="high"?8:6,ot=s.tier==="high"?100:40,F=new zt,bt=new Float32Array(ot*6);F.setAttribute("position",new Lt(bt,3)),F.setDrawRange(0,0);const vt=new Bt({color:0,transparent:!0,opacity:.03}),at=new $t(F,vt);S.add(at);const V=ne((i,G)=>{const v=n*u/2,g=n/2;for(const t of ct)t.mesh.rotation.x+=t.rotSpeed.x*i,t.mesh.rotation.y+=t.rotSpeed.y*i,t.mesh.rotation.z+=t.rotSpeed.z*i,t.mesh.position.x+=t.velocity.x*i,t.mesh.position.y+=t.velocity.y*i,t.mesh.position.x>v+3&&(t.mesh.position.x=-v-3),t.mesh.position.x<-v-3&&(t.mesh.position.x=v+3),t.mesh.position.y>g+3&&(t.mesh.position.y=-g-3),t.mesh.position.y<-g-3&&(t.mesh.position.y=g+3);const _=E.attributes.position,W=K.coords.x*v,st=K.coords.y*g;for(let t=0;t<O;t++){T[t].x+=(Math.random()-.5)*.02,T[t].y+=(Math.random()-.5)*.02,T[t].multiplyScalar(.99);let h=_.getX(t)+T[t].x*i*60,f=_.getY(t)+T[t].y*i*60;const A=h-W,j=f-st,a=Math.sqrt(A*A+j*j);if(a<5&&a>0){const w=(5-a)/5*.3;h+=A/a*w,f+=j/a*w}h>v&&(h=-v),h<-v&&(h=v),f>g&&(f=-g),f<-g&&(f=g),_.setXY(t,h,f)}_.needsUpdate=!0;let e=0;const c=at.geometry.attributes.position;for(let t=0;t<O&&e<ot;t++)for(let h=t+1;h<O&&e<ot;h++){const f=_.getX(t),A=_.getY(t),j=_.getX(h),a=_.getY(h);Math.sqrt((f-j)**2+(A-a)**2)<ht&&(c.setXYZ(e*2,f,A,0),c.setXYZ(e*2+1,j,a,0),e++)}c.needsUpdate=!0,at.geometry.setDrawRange(0,e*2),m.render(S,P)});V.start();const rt=new ResizeObserver(()=>{const i=window.innerWidth,G=window.innerHeight;u=i/G,P.left=-n*u/2,P.right=n*u/2,P.top=n/2,P.bottom=-n/2,P.updateProjectionMatrix(),m.setSize(i,G)});return rt.observe(document.documentElement),()=>{V.stop(),rt.disconnect(),K.cleanup(),ie(S),ce(m)}}),Jt();var M=be(),J=l(M);Ct(J,s=>Z(L,s),()=>o(L)),d(M),Ct(M,s=>Z(k,s),()=>o(k)),y(U,M),Ht()}var fe=$('<span class="absolute -top-1 -right-1 bg-black text-white text-xs font-bold h-5 w-5 flex items-center justify-center font-mono"> </span>'),xe=$('<div class="user-menu-dropdown absolute right-0 mt-0 w-48 bg-white border-2 border-black py-1 z-50"><a href="/dashboard">Dashboard</a> <a href="/profile">Profile</a> <div class="border-t-2 border-black my-1"></div> <button class="w-full text-left px-4 py-2 text-sm font-mono uppercase tracking-wider transition-colors hover:bg-black hover:text-white underline">Logout</button></div>'),ge=$('<a href="/inbox" title="Inbox"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg> <!></a> <a href="/sell">+ Sell</a> <div class="user-menu-container relative"><button><span> </span> <svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!></div>',1),we=$('<a href="/login" class="px-3 py-2 font-mono text-xs uppercase tracking-widest font-medium transition-colors hover:bg-black hover:text-white">Login</a> <a href="/register" class="px-4 py-2 bg-black text-white border-2 border-black font-mono text-xs uppercase tracking-widest font-semibold transition-colors hover:bg-white hover:text-black">Register</a>',1),ke=Pt('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>'),_e=Pt('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>'),ye=$('<span class="absolute -top-2 -right-2 bg-black text-white text-xs font-bold h-5 w-5 flex items-center justify-center font-mono"> </span>'),Me=$('<a href="/inbox"><div class="relative"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg> <!></div> <span>Inbox</span></a> <a href="/sell">+ Sell</a> <a href="/dashboard">Dashboard</a> <a href="/profile">Profile</a> <div class="pt-2 border-t-2 border-black mt-2"><div class="px-3 py-2 text-sm font-mono"> </div> <button class="w-full text-left px-3 py-2 font-mono text-xs uppercase tracking-widest font-medium hover:bg-black hover:text-white underline">Logout</button></div>',1),Se=$('<a href="/login" class="block px-3 py-2 font-mono text-xs uppercase tracking-widest font-medium hover:bg-black hover:text-white">Login</a> <a href="/register" class="block px-3 py-2 bg-black text-white font-mono text-xs uppercase tracking-widest font-semibold mt-2 border-2 border-black hover:bg-white hover:text-black">Register</a>',1),Ae=$('<div class="md:hidden pb-4 space-y-1 border-t-2 border-black pt-4"><a href="/products">Browse</a> <a href="/about-us">About Us</a> <!></div>'),je=$(`<!> <div class="min-h-screen flex flex-col relative" style="z-index: 1;"><header class="bg-white border-b-4 border-black text-black sticky top-0 z-50"><nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16"><a href="/" class="flex-shrink-0"><img src="/bidmo.to.png" alt="BidMo.to" class="h-10 w-auto"/></a> <div class="hidden md:flex md:space-x-1"><a href="/products">Browse</a> <a href="/about-us">About Us</a></div> <div class="hidden md:flex md:items-center md:space-x-2"><!></div> <button class="md:hidden inline-flex items-center justify-center p-2 hover:bg-black hover:text-white focus:outline-none border-2 border-black" aria-label="Toggle menu"><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><!></svg></button></div> <!></nav></header> <main class="flex-1 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><!></main> <footer class="border-t-4 border-black bg-white py-4 text-center text-black text-sm font-mono uppercase tracking-widest"><p>&copy; 2025 BidMo.to - Bid mo 'to!</p></footer></div>`,1);function Xe(U,z){Wt(z,!0);const L=()=>jt(kt,"$unreadCountStore",M),k=()=>jt(At,"$authStore",M),[M,J]=Vt();let s=St(()=>Nt.url.pathname),S=Mt(!1),n=Mt(!1),u=St(L);function P(){Z(S,!o(S))}function m(){Z(S,!1)}function K(){Z(n,!o(n))}function I(){Z(n,!1)}async function Q(){await Zt(),At.logout(),m(),I(),Dt("/")}function ct(e){const c=e.target;o(n)&&!c.closest(".user-menu-container")&&I()}async function mt(){if(k().isAuthenticated){const e=await qt();kt.set(e)}}Tt(()=>{mt()}),Ft(()=>{k().isAuthenticated?mt():kt.reset()});var O=je();Yt("click",Gt,ct);var R=pt(O);ve(R,{});var T=r(R,2),tt=l(T),lt=l(tt),E=l(lt),dt=l(E),et=r(dt,2),ht=l(et),ot=r(ht,2);d(et);var F=r(et,2),bt=l(F);{var vt=e=>{var c=ge(),t=pt(c),h=r(l(t),2);{var f=p=>{var C=fe(),H=l(C,!0);d(C),X(()=>ut(H,o(u)>9?"9+":o(u))),y(p,C)};Y(h,p=>{o(u)>0&&p(f)})}d(t);var A=r(t,2),j=r(A,2),a=l(j),w=l(a),B=l(w,!0);d(w);var D=r(w,2);d(a);var ft=r(a,2);{var xt=p=>{var C=xe(),H=l(C),N=r(H,2),nt=r(N,4);d(C),X(gt=>{x(H,1,`block px-4 py-2 text-sm font-mono uppercase tracking-wider transition-colors hover:bg-black hover:text-white ${gt??""}`),x(N,1,`block px-4 py-2 text-sm font-mono uppercase tracking-wider transition-colors hover:bg-black hover:text-white ${o(s)==="/profile"?"bg-black text-white":""}`)},[()=>o(s).startsWith("/dashboard")?"bg-black text-white":""]),b("click",H,I),b("click",N,I),b("click",nt,Q),y(p,C)};Y(ft,p=>{o(n)&&p(xt)})}d(j),X(()=>{var p;x(t,1,`relative px-3 py-2 font-mono text-xs uppercase tracking-widest font-medium transition-colors hover:bg-black hover:text-white ${o(s)==="/inbox"?"bg-black text-white":""}`),x(A,1,`px-4 py-2 bg-black text-white font-mono text-xs uppercase tracking-widest font-semibold transition-colors hover:bg-white hover:text-black border-2 border-black ${o(s)==="/sell"?"bg-white text-black":""}`),x(a,1,`flex items-center gap-2 px-4 py-2 font-mono text-xs uppercase tracking-widest font-medium transition-colors hover:bg-black hover:text-white ${o(n)?"bg-black text-white":""}`),ut(B,((p=k().user)==null?void 0:p.name)||"User"),x(D,0,`w-4 h-4 transition-transform ${o(n)?"rotate-180":""}`)}),b("click",a,p=>{p.stopPropagation(),K()}),y(e,c)},at=e=>{var c=we();wt(2),y(e,c)};Y(bt,e=>{k().isAuthenticated?e(vt):e(at,!1)})}d(F);var V=r(F,2),rt=l(V),i=l(rt);{var G=e=>{var c=ke();y(e,c)},v=e=>{var c=_e();y(e,c)};Y(i,e=>{o(S)?e(G):e(v,!1)})}d(rt),d(V),d(E);var g=r(E,2);{var _=e=>{var c=Ae(),t=l(c),h=r(t,2),f=r(h,2);{var A=a=>{var w=Me(),B=pt(w),D=l(B),ft=r(l(D),2);{var xt=it=>{var q=ye(),Ut=l(q,!0);d(q),X(()=>ut(Ut,o(u)>9?"9+":o(u))),y(it,q)};Y(ft,it=>{o(u)>0&&it(xt)})}d(D),wt(2),d(B);var p=r(B,2),C=r(p,2),H=r(C,2),N=r(H,2),nt=l(N),gt=l(nt,!0);d(nt);var Ot=r(nt,2);d(N),X(it=>{var q;x(B,1,`flex items-center gap-2 px-3 py-2 font-mono text-xs uppercase tracking-widest font-medium hover:bg-black hover:text-white mt-2 ${o(s)==="/inbox"?"bg-black text-white":""}`),x(p,1,`block px-3 py-2 bg-black text-white font-mono text-xs uppercase tracking-widest font-semibold mt-2 border-2 border-black hover:bg-white hover:text-black ${o(s)==="/sell"?"bg-white text-black":""}`),x(C,1,`block px-3 py-2 font-mono text-xs uppercase tracking-widest font-medium hover:bg-black hover:text-white mt-2 ${it??""}`),x(H,1,`block px-3 py-2 font-mono text-xs uppercase tracking-widest font-medium hover:bg-black hover:text-white mt-2 ${o(s)==="/profile"?"bg-black text-white":""}`),ut(gt,((q=k().user)==null?void 0:q.name)||"User")},[()=>o(s).startsWith("/dashboard")?"bg-black text-white":""]),b("click",B,m),b("click",p,m),b("click",C,m),b("click",H,m),b("click",Ot,Q),y(a,w)},j=a=>{var w=Se(),B=pt(w),D=r(B,2);b("click",B,m),b("click",D,m),y(a,w)};Y(f,a=>{k().isAuthenticated?a(A):a(j,!1)})}d(c),X(a=>{x(t,1,`block px-3 py-2 font-mono text-xs uppercase tracking-widest font-medium hover:bg-black hover:text-white ${a??""}`),x(h,1,`block px-3 py-2 font-mono text-xs uppercase tracking-widest font-medium hover:bg-black hover:text-white ${o(s)==="/about-us"?"bg-black text-white":""}`)},[()=>o(s).startsWith("/products")?"bg-black text-white":""]),b("click",t,m),b("click",h,m),y(e,c)};Y(g,e=>{o(S)&&e(_)})}d(lt),d(tt);var W=r(tt,2),st=l(W);pe(st,()=>z.children),d(W),wt(2),d(T),X(e=>{x(ht,1,`px-3 py-2 font-mono text-xs uppercase tracking-widest font-medium transition-colors hover:bg-black hover:text-white ${e??""}`),x(ot,1,`px-3 py-2 font-mono text-xs uppercase tracking-widest font-medium transition-colors hover:bg-black hover:text-white ${o(s)==="/about-us"?"bg-black text-white":""}`)},[()=>o(s).startsWith("/products")?"bg-black text-white":""]),b("click",dt,m),b("click",V,P),y(U,O),Ht(),J()}Xt(["click"]);export{Xe as component,Ge as universal};
