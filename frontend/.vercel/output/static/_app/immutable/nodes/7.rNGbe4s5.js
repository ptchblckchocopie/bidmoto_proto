import{G as Xe,H as Ke}from"../chunks/CYvOnIj9.js";import{a as v,f as m}from"../chunks/D_ansCh4.js";import{o as ue,a as Qe}from"../chunks/YuJsNucz.js";import{p as ge,a as fe,c as n,y as t,A as f,r,N as le,z as U,av as O,aw as ut,s as o,f as Ze,t as w,e as $e,aE as ce,$ as ta,n as Pt}from"../chunks/Cl0DMWZv.js";import{d as ea,a as D,s as z}from"../chunks/Cv63ugJo.js";import{i as j,a as aa}from"../chunks/BTM6jyxq.js";import{e as gt,i as ft}from"../chunks/CXL-JkK8.js";import{h as sa}from"../chunks/avLAz_gZ.js";import{r as ia,s as Gt}from"../chunks/j3NwBB6B.js";import{s as Q}from"../chunks/D9jd4Gan.js";import{b as ra}from"../chunks/DQcjtaIM.js";import{i as na,b as de,s as oa}from"../chunks/CXtqpSC3.js";import{a as la,s as ca}from"../chunks/BF7g9if2.js";import{g as da}from"../chunks/eE_TcHx0.js";import{p as ve}from"../chunks/DbvR7NoS.js";import{g as va,r as ma}from"../chunks/Dv4or3T-.js";import{i as ua}from"../chunks/CeNTN4C9.js";import{b as me}from"../chunks/D-OXtg45.js";import{d as ga,S as fa,P as ha,c as _a,a as pa,G as ba,j as ya,E as Rt,L as Ot,b as Nt,C as xa,g as wa,h as za,i as ja,I as Pa,k as ka}from"../chunks/BfWXKq_L.js";const Ba=!0,Sa=async({url:G,fetch:a})=>{const T=parseInt(G.searchParams.get("page")||"1"),N=parseInt(G.searchParams.get("limit")||"12"),R=G.searchParams.get("search")||"",L=G.searchParams.get("status")||"active",y=G.searchParams.get("region")||"",E=G.searchParams.get("city")||"";let b;return L==="my-bids"?b=await Xe({page:T,limit:N,search:R||void 0,customFetch:a}):b=await Ke({page:T,limit:N,search:R||void 0,status:L,region:y||void 0,city:E||void 0,customFetch:a}),{products:b.docs,totalDocs:b.totalDocs,totalPages:b.totalPages,currentPage:b.page,limit:b.limit,search:R,status:L,region:y,city:E}},Bs=Object.freeze(Object.defineProperty({__proto__:null,load:Sa},Symbol.toStringTag,{value:"Module"}));var Ma=m('<div class="three-hero svelte-fj9ds7"><canvas class="svelte-fj9ds7"></canvas></div>');function Ia(G,a){ge(a,!1);let T=le(),N=le();ue(()=>{const y=ga(),E=new fa,b=new ha(45,1,.1,100);b.position.z=15;const B=_a(t(T),y),x=pa(t(N)),p=new ba,F=new ya(3,1.2,1.2),ht=new Rt(F),_t=new Ot({color:0,transparent:!0,opacity:.18}),pt=new Nt(ht,_t);F.dispose(),p.add(pt);const bt=new xa(.2,.2,4,6),yt=new Rt(bt),Y=new Ot({color:0,transparent:!0,opacity:.18}),rt=new Nt(yt,Y);rt.position.y=-2.5,bt.dispose(),p.add(rt),p.rotation.z=.3,E.add(p);const nt=y.tier==="low"?4:y.tier==="medium"?6:8,ot=[],Z=[()=>new Pa(.5),()=>new ka(.5)];for(let A=0;A<nt;A++){const H=Z[A%Z.length],_=H(),V=new Rt(_),lt=new Ot({color:0,transparent:!0,opacity:.12}),tt=new Nt(V,lt);_.dispose();const et=3+Math.random()*4,at=A/nt*Math.PI*2;tt.position.set(Math.cos(at)*et,(Math.random()-.5)*3,Math.sin(at)*et),E.add(tt),ot.push({mesh:tt,radius:et,speed:.2+Math.random()*.3,angle:at,yOffset:(Math.random()-.5)*3})}let $=0,xt=0;const q=wa((A,H)=>{p.rotation.z=.3+Math.sin(H*.5)*.26,p.rotation.y+=A*.15;for(const _ of ot)_.angle+=_.speed*A,_.mesh.position.x=Math.cos(_.angle)*_.radius,_.mesh.position.z=Math.sin(_.angle)*_.radius,_.mesh.position.y=_.yOffset+Math.sin(H*.7+_.angle)*.5,_.mesh.rotation.x+=A*.5,_.mesh.rotation.y+=A*.3;$=x.coords.x*.5,xt=x.coords.y*.5,b.position.x+=($-b.position.x)*.05,b.position.y+=(xt-b.position.y)*.05,b.lookAt(0,0,0),B.render(E,b)});q.start();const X=new ResizeObserver(A=>{for(const H of A){const{width:_,height:V}=H.contentRect;_>0&&V>0&&(b.aspect=_/V,b.updateProjectionMatrix(),B.setSize(_,V))}});return X.observe(t(N)),()=>{q.stop(),X.disconnect(),x.cleanup(),za(E),ja(B)}}),ua();var R=Ma(),L=n(R);me(L,y=>f(T,y),()=>t(T)),r(R),me(R,y=>f(N,y),()=>t(N)),v(G,R),fe()}var Ta=m('<div class="flex items-center gap-2"><a href="/sell" class="text-black border-b-2 border-black hover:bg-black hover:text-white transition px-1">List an Item</a></div>'),Ea=m('<button class="clear-search svelte-1dj9mz1">✕</button>'),Aa=m("<option> </option>"),Ca=m("<option> </option>"),Da=m('<button class="btn-clear-filters svelte-1dj9mz1">Clear All</button>'),La=m('<p class="search-results svelte-1dj9mz1"> </p>'),Fa=m("<option> </option>"),Ga=m('<p class="filter-detail svelte-1dj9mz1"> </p>'),Ra=m('<p class="filter-detail svelte-1dj9mz1"> </p>'),Oa=m('<p class="filter-detail svelte-1dj9mz1"> </p>'),Na=m('<div class="empty-state svelte-1dj9mz1"><p class="svelte-1dj9mz1">No products found matching your filters</p> <!> <!> <!> <button class="btn-clear-search svelte-1dj9mz1">Clear Filters</button></div>'),Ha=m('<img class="svelte-1dj9mz1"/>'),Ja=m('<div class="placeholder-image svelte-1dj9mz1"><span>No Image</span></div>'),Ua=m('<div class="ended-overlay svelte-1dj9mz1"> </div>'),Ya=m('<div class="location-info svelte-1dj9mz1"><svg class="location-icon svelte-1dj9mz1" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg> <span> </span></div>'),Va=m('<div class="percent-increase svelte-1dj9mz1"><svg class="arrow-up-mini svelte-1dj9mz1" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="18 15 12 9 6 15"></polyline></svg> <span> </span></div>'),Wa=m('<div class="current-bid-section svelte-1dj9mz1"><div class="current-bid-row svelte-1dj9mz1"><div class="svelte-1dj9mz1"><span class="label-small svelte-1dj9mz1"> </span> <span class="price-large current-bid svelte-1dj9mz1"> </span></div> <!></div> <div class="starting-price-row svelte-1dj9mz1"><span class="label-tiny svelte-1dj9mz1">Starting:</span> <span class="price-tiny svelte-1dj9mz1"> </span></div></div>'),qa=m('<div class="svelte-1dj9mz1"><span class="label-small svelte-1dj9mz1">Starting Price:</span> <span class="price-large svelte-1dj9mz1"> </span></div>'),Xa=m('<div class="user-bid-section svelte-1dj9mz1"><span class="label-small svelte-1dj9mz1">Your Bid:</span> <span class="price-large your-bid svelte-1dj9mz1"> </span></div>'),Ka=m('<span class="owner-badge svelte-1dj9mz1">Your Listing</span>'),Qa=m('<div><svg class="countdown-icon svelte-1dj9mz1" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <span> </span></div>'),Za=m('<div class="countdown-badge countdown-ended svelte-1dj9mz1"><svg class="countdown-icon svelte-1dj9mz1" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <span>Ended</span></div>'),$a=m('<a><div class="product-image svelte-1dj9mz1"><!> <!></div> <div class="product-info svelte-1dj9mz1"><h3 class="svelte-1dj9mz1"> </h3> <p class="description svelte-1dj9mz1"> </p> <!> <div class="pricing svelte-1dj9mz1"><!> <!></div> <div class="auction-info svelte-1dj9mz1"><div class="status-row svelte-1dj9mz1"><span> </span> <!></div> <!></div></div></a>'),ts=m("<button></button>"),es=m('<div class="pagination svelte-1dj9mz1"><button class="pagination-btn svelte-1dj9mz1">← Previous</button> <div class="pagination-numbers svelte-1dj9mz1"></div> <button class="pagination-btn svelte-1dj9mz1">Next →</button></div>'),as=m('<section class="auction-section svelte-1dj9mz1"><div class="products-grid svelte-1dj9mz1"></div> <!></section>'),ss=m('<p class="svelte-1dj9mz1">You do not have any bids yet.</p> <p class="svelte-1dj9mz1"><a href="/products?status=active" class="svelte-1dj9mz1">Browse Active Auctions</a></p>',1),is=m('<p class="svelte-1dj9mz1">No Ended Auctions Available</p> <p class="svelte-1dj9mz1"><a href="/products?status=active" class="svelte-1dj9mz1">Browse Active Auctions</a></p>',1),rs=m('<p class="svelte-1dj9mz1">No active auctions available.</p> <p class="svelte-1dj9mz1"><a href="/sell" class="svelte-1dj9mz1">Be the first to list a product!</a></p>',1),ns=m('<div class="empty-state svelte-1dj9mz1"><!></div>'),os=m(`<div class="-mx-4 sm:-mx-6 lg:-mx-8 mb-0 overflow-hidden relative z-10"><div class="bg-white border-b-4 border-black px-3 py-4"><div class="max-w-7xl mx-auto text-center"><div class="inline-block bg-black text-white px-2 sm:px-3 py-1 text-xs font-bold tracking-wide sm:tracking-wider mb-2" style="font-family: 'JetBrains Mono', monospace; text-transform: uppercase; letter-spacing: 0.05em;">EXPERIMENTAL</div> <p class="text-black text-xs sm:text-sm md:text-base leading-snug sm:leading-relaxed mx-auto max-w-5xl px-2 break-words">We're testing what works and gathering public interest. <strong class="font-bold underline whitespace-nowrap">No integrated payments yet</strong> —
        transactions are coordinated directly between buyers and sellers.
        Once we have enough traction, we'll integrate secure payments and become a full-blown bidding platform!</p></div></div></div> <div class="-mx-4 sm:-mx-6 lg:-mx-8 mb-8"><section class="bg-white border-b-8 border-black text-black px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16 text-center relative overflow-hidden"><!> <div class="max-w-4xl mx-auto relative" style="z-index: 1;"><div class="mb-6"><img src="/bidmo.to.png" alt="BidMo.to" class="h-20 sm:h-28 lg:h-36 w-auto mx-auto"/></div> <h1 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold mb-3 svelte-1dj9mz1" style="font-family: 'Playfair Display', serif;">Welcome to <span class="text-black">BidMo.to</span></h1> <p class="text-base sm:text-lg lg:text-xl mb-3" style="font-family: 'Source Serif 4', serif;">Bid mo 'to! The Filipino way to bid, buy, and sell unique items</p> <p class="text-sm sm:text-base mb-6 max-w-2xl mx-auto" style="color: #525252; font-family: 'Source Serif 4', serif;">Join us in building the Philippines' most exciting auction platform.
        Your participation helps us understand what features matter most!</p> <div class="flex flex-wrap gap-4 sm:gap-8 justify-center text-sm sm:text-base"><div class="flex items-center gap-2"><span class="text-xl">Browse Auctions</span></div> <!> <div class="flex items-center gap-2" style="font-family: 'JetBrains Mono', monospace; text-transform: uppercase; letter-spacing: 0.05em;"><span class="text-xl font-bold">FREE</span> <span>To Join</span></div> <div class="flex items-center gap-2" style="font-family: 'JetBrains Mono', monospace; text-transform: uppercase; letter-spacing: 0.05em;"><span class="text-xl font-bold">SAFE</span> <span>No Payment Integration</span></div> <div class="flex items-center gap-2" style="font-family: 'JetBrains Mono', monospace; text-transform: uppercase; letter-spacing: 0.05em;"><span class="text-xl font-bold">BETA</span> <span>Help Us Grow</span></div></div></div></section></div> <div class="products-page svelte-1dj9mz1"><div class="page-header svelte-1dj9mz1"><h2 class="svelte-1dj9mz1">Browse Products</h2> <div class="search-filter-container svelte-1dj9mz1"><div class="search-container svelte-1dj9mz1"><input type="text" placeholder="Search by title, description, or keywords..." class="search-input svelte-1dj9mz1"/> <!></div> <div class="location-filters svelte-1dj9mz1"><select class="location-select svelte-1dj9mz1"><option>All Regions</option><!></select> <select class="location-select svelte-1dj9mz1"><option>All Cities</option><!></select> <!></div></div> <!> <div class="controls-container svelte-1dj9mz1"><div class="items-per-page svelte-1dj9mz1"><label class="svelte-1dj9mz1">Items per page:</label> <select class="svelte-1dj9mz1"></select></div></div></div> <!> <div class="tabs-container svelte-1dj9mz1" id="products-section"><button>Active Auctions</button> <button>Ended Auctions</button> <button>My Bids</button></div> <!></div>`,1);function Ss(G,a){ge(a,!0);const T=()=>la(aa,"$authStore",N),[N,R]=ca();let L=U({}),y=O(null),E=O(U({})),b=O(U({})),B=O(U(a.data.search||"")),x=O(U(a.data.region||"")),p=O(U(a.data.city||"")),F=O(null),ht=O(U(a.data.search||"")),_t=O(U(a.data.region||"")),pt=O(U(a.data.city||""));const bt=[12,24,48,96];let yt=ce(()=>t(x)?va(t(x)):[]);ut(()=>{if(t(x)&&!t(yt).includes(t(p))){const e=ve.url.searchParams.get("city")||"";t(p)&&t(p)!==e&&f(p,"")}});function Y(e){const i=new URL(ve.url);Object.entries(e).forEach(([l,g])=>{g?i.searchParams.set(l,g.toString()):i.searchParams.delete(l)}),da(i.toString(),{keepFocus:!0,noScroll:!1})}function rt(){t(F)&&clearTimeout(t(F)),f(F,setTimeout(()=>{Y({search:t(B),region:t(x),city:t(p),page:"1",status:a.data.status,limit:a.data.limit.toString()})},500),!0)}function nt(){t(F)&&clearTimeout(t(F)),f(F,setTimeout(()=>{Y({search:t(B),region:t(x),city:t(p),page:"1",status:a.data.status,limit:a.data.limit.toString()})},500),!0)}function ot(){f(B,""),f(x,""),f(p,""),Y({search:"",region:"",city:"",page:"1",status:a.data.status,limit:a.data.limit.toString()})}function Z(e){Y({status:e,page:"1",search:t(B),region:t(x),city:t(p),limit:a.data.limit.toString()}),setTimeout(()=>{const i=document.getElementById("products-section");i&&i.scrollIntoView({behavior:"smooth",block:"start"})},100)}function $(e){Y({page:e.toString(),status:a.data.status,search:t(B),region:t(x),city:t(p),limit:a.data.limit.toString()}),window.scrollTo({top:0,behavior:"smooth"})}function xt(e){Y({limit:e.toString(),page:"1",status:a.data.status,search:t(B),region:t(x),city:t(p)})}ut(()=>{const e=a.data.search||"";e!==t(ht)&&(e!==t(B)&&f(B,e,!0),f(ht,e,!0))}),ut(()=>{const e=a.data.region||"";e!==t(_t)&&(e!==t(x)&&f(x,e,!0),f(_t,e,!0))}),ut(()=>{const e=a.data.city||"";e!==t(pt)&&(e!==t(p)&&f(p,e,!0),f(pt,e,!0))});function q(e,i="PHP"){return new Intl.NumberFormat("en-US",{style:"currency",currency:i}).format(e)}function X(){a.data.products.forEach(e=>{const i=new Date().getTime(),g=new Date(e.auctionEndDate).getTime()-i;if(g<=0){L[e.id]="Ended";return}const h=Math.floor(g/(1e3*60*60*24)),P=Math.floor(g%(1e3*60*60*24)/(1e3*60*60)),s=Math.floor(g%(1e3*60*60)/(1e3*60)),u=Math.floor(g%(1e3*60)/1e3);h>0?L[e.id]=`${h}d ${P}h ${s}m`:P>0?L[e.id]=`${P}h ${s}m ${u}s`:L[e.id]=`${s}m ${u}s`})}function A(e){const i=new Date().getTime(),g=new Date(e).getTime()-i,h=g/(1e3*60*60);return g<=0?"ended":h<=3?"critical":h<=12?"urgent":h<=24?"warning":"normal"}async function H(){if(!T().isAuthenticated||!T().user){f(E,{},!0),f(b,{},!0);return}try{const e=Ba?localStorage.getItem("auth_token"):null,i={};e&&(i.Authorization=`JWT ${e}`);const l=await fetch(`/api/bridge/bids?where[bidder][equals]=${T().user.id}&limit=1000`,{headers:i,credentials:"include"});if(l.ok){const h=(await l.json()).docs||[],P={},s={};h.forEach(u=>{const I=typeof u.product=="object"?u.product.id:u.product;P[I]||(P[I]=[]),P[I].push(u),(!s[I]||u.amount>s[I])&&(s[I]=u.amount)}),f(E,s,!0),f(b,P,!0)}}catch(e){console.error("Error fetching user bids:",e)}}let _=ce(()=>[...a.data.products].sort((e,i)=>{const l=t(E)[e.id]?1:0;return(t(E)[i.id]?1:0)-l}));ut(()=>{T().isAuthenticated!==void 0&&H()}),ue(()=>{X(),f(y,setInterval(X,1e3),!0),H(),a.data.status&&window.location.search.includes("status=")&&setTimeout(()=>{const i=document.getElementById("products-section");i&&i.scrollIntoView({behavior:"smooth",block:"start"})},300);const e=()=>{document.hidden?(t(y)&&clearInterval(t(y)),f(y,null)):t(y)||(X(),f(y,setInterval(X,1e3),!0))};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),Qe(()=>{t(y)&&clearInterval(t(y)),t(F)&&clearTimeout(t(F))});var V=os();sa("1dj9mz1",e=>{$e(()=>{ta.title="Browse Products - BidMo.to"})});var lt=o(Ze(V),2),tt=n(lt),et=n(tt);Ia(et,{});var at=o(et,2),Ht=o(n(at),8),he=o(n(Ht),2);{var _e=e=>{var i=Ta();v(e,i)};j(he,e=>{T().isAuthenticated&&e(_e)})}Pt(6),r(Ht),r(at),r(tt),r(lt);var Jt=o(lt,2),kt=n(Jt),Bt=o(n(kt),2),St=n(Bt),wt=n(St);ia(wt);var pe=o(wt,2);{var be=e=>{var i=Ea();D("click",i,()=>{f(B,""),rt()}),v(e,i)};j(pe,e=>{t(B)&&e(be)})}r(St);var Ut=o(St,2),ct=n(Ut),Mt=n(ct);Mt.value=Mt.__value="";var ye=o(Mt);gt(ye,17,()=>ma,ft,(e,i)=>{var l=Aa(),g=n(l,!0);r(l);var h={};w(()=>{z(g,t(i)),h!==(h=t(i))&&(l.value=(l.__value=t(i))??"")}),v(e,l)}),r(ct);var st=o(ct,2),It=n(st);It.value=It.__value="";var xe=o(It);gt(xe,17,()=>t(yt),ft,(e,i)=>{var l=Ca(),g=n(l,!0);r(l);var h={};w(()=>{z(g,t(i)),h!==(h=t(i))&&(l.value=(l.__value=t(i))??"")}),v(e,l)}),r(st);var we=o(st,2);{var ze=e=>{var i=Da();D("click",i,ot),v(e,i)};j(we,e=>{(t(B)||t(x)||t(p))&&e(ze)})}r(Ut),r(Bt);var Yt=o(Bt,2);{var je=e=>{var i=La(),l=n(i);r(i),w(()=>z(l,`Found ${a.data.totalDocs??""} result${a.data.totalDocs!==1?"s":""}`)),v(e,i)};j(Yt,e=>{(a.data.search||a.data.region||a.data.city)&&a.data.totalDocs>0&&e(je)})}var Vt=o(Yt,2),Wt=n(Vt),K=o(n(Wt),2);gt(K,21,()=>bt,ft,(e,i)=>{var l=Fa(),g=n(l,!0);r(l);var h={};w(()=>{z(g,t(i)),h!==(h=t(i))&&(l.value=(l.__value=t(i))??"")}),v(e,l)}),r(K);var qt;na(K),r(Wt),r(Vt),r(kt);var Xt=o(kt,2);{var Pe=e=>{var i=Na(),l=o(n(i),2);{var g=k=>{var M=Ga(),W=n(M);r(M),w(()=>z(W,`Search: "${a.data.search??""}"`)),v(k,M)};j(l,k=>{a.data.search&&k(g)})}var h=o(l,2);{var P=k=>{var M=Ra(),W=n(M);r(M),w(()=>z(W,`Region: "${a.data.region??""}"`)),v(k,M)};j(h,k=>{a.data.region&&k(P)})}var s=o(h,2);{var u=k=>{var M=Oa(),W=n(M);r(M),w(()=>z(W,`City: "${a.data.city??""}"`)),v(k,M)};j(s,k=>{a.data.city&&k(u)})}var I=o(s,2);r(i),D("click",I,ot),v(e,i)};j(Xt,e=>{(a.data.search||a.data.region||a.data.city)&&a.data.totalDocs===0&&e(Pe)})}var Tt=o(Xt,2),Et=n(Tt);let Kt;var At=o(Et,2);let Qt;var Zt=o(At,2);let $t;r(Tt);var ke=o(Tt,2);{var Be=e=>{var i=as(),l=n(i);gt(l,21,()=>t(_),ft,(P,s)=>{var u=$a();let I;var k=n(u),M=n(k);{var W=c=>{var d=Ha();w(()=>{Gt(d,"src",t(s).images[0].image.url),Gt(d,"alt",t(s).images[0].image.alt||t(s).title)}),v(c,d)},dt=c=>{var d=Ja();v(c,d)};j(M,c=>{t(s).images&&t(s).images.length>0&&t(s).images[0].image?c(W):c(dt,!1)})}var it=o(M,2);{var zt=c=>{var d=Ua(),S=n(d,!0);r(d),w(C=>z(S,C),[()=>t(s).status==="sold"?"✓ SOLD":t(s).status.toUpperCase()]),v(c,d)};j(it,c=>{a.data.status==="ended"&&c(zt)})}r(k);var te=o(k,2),Ct=n(te),Me=n(Ct,!0);r(Ct);var Dt=o(Ct,2),Ie=n(Dt);r(Dt);var ee=o(Dt,2);{var Te=c=>{var d=Ya(),S=o(n(d),2),C=n(S);r(S),r(d),w(()=>z(C,`${t(s).city??""}${t(s).city&&t(s).region?", ":""}${t(s).region??""}`)),v(c,d)};j(ee,c=>{(t(s).region||t(s).city)&&c(Te)})}var Lt=o(ee,2),ae=n(Lt);{var Ee=c=>{var d=Wa(),S=n(d),C=n(S),J=n(C),He=n(J,!0);r(J);var ie=o(J,2),Je=n(ie,!0);r(ie),r(C);var Ue=o(C,2);{var Ye=vt=>{var mt=Va(),oe=o(n(mt),2),We=n(oe);r(oe),r(mt),w(qe=>z(We,`${qe??""}%`),[()=>Math.round((t(s).currentBid-t(s).startingPrice)/t(s).startingPrice*100)]),v(vt,mt)};j(Ue,vt=>{t(s).currentBid>t(s).startingPrice&&vt(Ye)})}r(S);var re=o(S,2),ne=o(n(re),2),Ve=n(ne,!0);r(ne),r(re),r(d),w((vt,mt)=>{z(He,a.data.status==="ended"&&t(s).status==="sold"?"Sold For:":a.data.status==="ended"?"Final Bid:":"Current Bid:"),z(Je,vt),z(Ve,mt)},[()=>q(t(s).currentBid,t(s).seller.currency),()=>q(t(s).startingPrice,t(s).seller.currency)]),v(c,d)},Ae=c=>{var d=qa(),S=o(n(d),2),C=n(S,!0);r(S),r(d),w(J=>z(C,J),[()=>q(t(s).startingPrice,t(s).seller.currency)]),v(c,d)};j(ae,c=>{t(s).currentBid?c(Ee):c(Ae,!1)})}var Ce=o(ae,2);{var De=c=>{var d=Xa(),S=o(n(d),2),C=n(S,!0);r(S),r(d),w(J=>z(C,J),[()=>q(t(E)[t(s).id],t(s).seller.currency)]),v(c,d)};j(Ce,c=>{t(E)[t(s).id]&&c(De)})}r(Lt);var se=o(Lt,2),Ft=n(se),jt=n(Ft),Le=n(jt,!0);r(jt);var Fe=o(jt,2);{var Ge=c=>{var d=Ka();v(c,d)};j(Fe,c=>{T().user&&t(s).seller.id===T().user.id&&c(Ge)})}r(Ft);var Re=o(Ft,2);{var Oe=c=>{var d=Qa(),S=o(n(d),2),C=n(S,!0);r(S),r(d),w(J=>{Q(d,1,`countdown-badge countdown-${J??""}`,"svelte-1dj9mz1"),z(C,L[t(s).id]||"Loading...")},[()=>A(t(s).auctionEndDate)]),v(c,d)},Ne=c=>{var d=Za();v(c,d)};j(Re,c=>{a.data.status==="active"||a.data.status==="my-bids"?c(Oe):c(Ne,!1)})}r(se),r(te),r(u),w(c=>{Gt(u,"href",`/products/${t(s).id??""}?from=browse`),I=Q(u,1,"product-card svelte-1dj9mz1",null,I,{"ended-card":a.data.status==="ended"}),z(Me,t(s).title),z(Ie,`${c??""}${t(s).description.length>100?"...":""}`),Q(jt,1,`status status-${t(s).status??""}`,"svelte-1dj9mz1"),z(Le,t(s).status)},[()=>t(s).description.substring(0,100)]),v(P,u)}),r(l);var g=o(l,2);{var h=P=>{var s=es(),u=n(s),I=o(u,2);gt(I,21,()=>Array(a.data.totalPages),ft,(M,W,dt)=>{var it=ts();let zt;it.textContent=dt+1,w(()=>zt=Q(it,1,"pagination-number svelte-1dj9mz1",null,zt,{active:a.data.currentPage===dt+1})),D("click",it,()=>$(dt+1)),v(M,it)}),r(I);var k=o(I,2);r(s),w(()=>{u.disabled=a.data.currentPage===1,k.disabled=a.data.currentPage===a.data.totalPages}),D("click",u,()=>$(a.data.currentPage-1)),D("click",k,()=>$(a.data.currentPage+1)),v(P,s)};j(g,P=>{a.data.totalPages>1&&P(h)})}r(i),v(e,i)},Se=e=>{var i=ns(),l=n(i);{var g=s=>{var u=ss();Pt(2),v(s,u)},h=s=>{var u=is();Pt(2),v(s,u)},P=s=>{var u=rs();Pt(2),v(s,u)};j(l,s=>{a.data.status==="my-bids"?s(g):a.data.status==="ended"?s(h,1):s(P,!1)})}r(i),v(e,i)};j(ke,e=>{t(_).length>0?e(Be):e(Se,!1)})}r(Jt),w(()=>{st.disabled=!t(x),qt!==(qt=a.data.limit)&&(K.value=(K.__value=a.data.limit)??"",oa(K,a.data.limit)),Kt=Q(Et,1,"tab svelte-1dj9mz1",null,Kt,{active:a.data.status==="active"}),Qt=Q(At,1,"tab svelte-1dj9mz1",null,Qt,{active:a.data.status==="ended"}),$t=Q(Zt,1,"tab svelte-1dj9mz1",null,$t,{active:a.data.status==="my-bids"})}),D("input",wt,rt),ra(wt,()=>t(B),e=>f(B,e)),D("change",ct,nt),de(ct,()=>t(x),e=>f(x,e)),D("change",st,nt),de(st,()=>t(p),e=>f(p,e)),D("change",K,e=>xt(parseInt(e.currentTarget.value))),D("click",Et,()=>Z("active")),D("click",At,()=>Z("ended")),D("click",Zt,()=>Z("my-bids")),v(G,V),fe(),R()}ea(["input","click","change"]);export{Ss as component,Bs as universal};
