import{a as xa,f as ma,b as ja,c as fa,d as ha}from"../chunks/CYvOnIj9.js";import{r as ba}from"../chunks/pfMRWl6z.js";import{a as v,f as r,c as fe}from"../chunks/D_ansCh4.js";import{o as Pa}from"../chunks/YuJsNucz.js";import{p as ya,av as de,z as wa,f as ue,t as J,a as ka,e as Sa,A as y,c as s,s as i,y as e,$ as Ea,r as a,aE as se,n as Ma}from"../chunks/Cl0DMWZv.js";import{d as Ba,a as p,s as o}from"../chunks/Cv63ugJo.js";import{i as h}from"../chunks/BTM6jyxq.js";import{e as Ve,i as Le}from"../chunks/CXL-JkK8.js";import{h as Ia}from"../chunks/avLAz_gZ.js";import{s as ie}from"../chunks/j3NwBB6B.js";import{s as pe}from"../chunks/D9jd4Gan.js";import{p as Da}from"../chunks/ChVnncLT.js";import{p as Aa}from"../chunks/DbvR7NoS.js";import"../chunks/eE_TcHx0.js";import"../chunks/BUApaBEI.js";import{I as va}from"../chunks/vwYYfMcD.js";import{P as Ta}from"../chunks/E8cYmJKZ.js";const Ca=async({fetch:we})=>{const he=await xa(we);if(!he)throw ba(302,"/login?redirect=/dashboard");const[w,ne,Me]=await Promise.all([ma(he.id,we),ja(he.id,we),fa(he.id,we)]);return{user:he,activeProducts:w,hiddenProducts:ne,endedProducts:Me}},Hs=Object.freeze(Object.defineProperty({__proto__:null,load:Ca},Symbol.toStringTag,{value:"Module"}));var Va=r(`<div class="empty-state svelte-x1i5gj"><div class="empty-icon svelte-x1i5gj">ğŸ“¦</div> <h2 class="svelte-x1i5gj">No Active Products</h2> <p class="svelte-x1i5gj">You don't have any active products. Start selling now!</p> <a href="/sell" class="btn-primary svelte-x1i5gj">+ List a Product</a></div>`),La=r('<img class="svelte-x1i5gj"/>'),Ua=r('<div class="placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),Fa=r('<div class="placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),Ha=r('<div class="price-row current-bid svelte-x1i5gj"><span class="price-label svelte-x1i5gj">Current Bid:</span> <span class="price-value svelte-x1i5gj"> </span></div>'),Ya=r('<div class="product-card svelte-x1i5gj"><div class="product-image svelte-x1i5gj" role="button" tabindex="0"><!></div> <div class="product-details svelte-x1i5gj"><h3 class="svelte-x1i5gj"> </h3> <div class="product-price svelte-x1i5gj"><div class="price-row svelte-x1i5gj"><span class="price-label svelte-x1i5gj">Starting:</span> <span class="price-value svelte-x1i5gj"> </span></div> <!></div> <div class="product-meta svelte-x1i5gj"><span class="meta-item svelte-x1i5gj"> </span> <span> </span></div></div> <div class="product-actions svelte-x1i5gj"><button class="btn-edit svelte-x1i5gj">âœï¸ Edit</button> <button class="btn-view svelte-x1i5gj">ğŸ‘ï¸ View</button></div></div>'),Na=r('<div class="products-grid svelte-x1i5gj"></div>'),za=r(`<div class="empty-state svelte-x1i5gj"><div class="empty-icon svelte-x1i5gj">ğŸ™ˆ</div> <h2 class="svelte-x1i5gj">No Hidden Products</h2> <p class="svelte-x1i5gj">You don't have any hidden products.</p></div>`),Ra=r('<img class="svelte-x1i5gj"/>'),Oa=r('<div class="placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),Wa=r('<div class="placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),Ga=r('<div class="price-row current-bid svelte-x1i5gj"><span class="price-label svelte-x1i5gj">Current Bid:</span> <span class="price-value svelte-x1i5gj"> </span></div>'),Ja=r('<div class="product-card svelte-x1i5gj"><div class="product-image svelte-x1i5gj" role="button" tabindex="0"><!></div> <div class="product-details svelte-x1i5gj"><h3 class="svelte-x1i5gj"> </h3> <div class="product-price svelte-x1i5gj"><div class="price-row svelte-x1i5gj"><span class="price-label svelte-x1i5gj">Starting:</span> <span class="price-value svelte-x1i5gj"> </span></div> <!></div> <div class="product-meta svelte-x1i5gj"><span class="meta-item svelte-x1i5gj"> </span> <span class="status-badge status-hidden svelte-x1i5gj">Hidden</span></div></div> <div class="product-actions svelte-x1i5gj"><button class="btn-edit svelte-x1i5gj">âœï¸ Edit</button> <button class="btn-view svelte-x1i5gj">ğŸ‘ï¸ View</button></div></div>'),qa=r('<div class="products-grid svelte-x1i5gj"></div>'),Ka=r(`<div class="empty-state svelte-x1i5gj"><div class="empty-icon svelte-x1i5gj">ğŸ</div> <h2 class="svelte-x1i5gj">No Ended Auctions</h2> <p class="svelte-x1i5gj">When your auctions end, they'll appear here.</p></div>`),Qa=r('<img class="svelte-x1i5gj"/>'),Xa=r('<div class="placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),Za=r('<div class="placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),$a=r('<div class="product-card svelte-x1i5gj"><div class="product-image svelte-x1i5gj" role="button" tabindex="0"><!></div> <div class="product-details svelte-x1i5gj"><h3 class="svelte-x1i5gj"> </h3> <div class="product-price svelte-x1i5gj"><div class="price-row svelte-x1i5gj"><span class="price-label svelte-x1i5gj"> </span> <span class="price-value sold svelte-x1i5gj"> </span></div></div> <div class="product-meta svelte-x1i5gj"><span class="meta-item svelte-x1i5gj"> </span> <span> </span></div></div> <div class="product-actions svelte-x1i5gj"><button class="btn-view svelte-x1i5gj">ğŸ‘ï¸ View</button></div></div>'),es=r('<div class="products-grid svelte-x1i5gj"></div>'),as=r('<div class="products-section"><div class="sub-tabs svelte-x1i5gj"><button> </button> <button> </button> <button> </button></div> <!></div>'),ss=r('<div class="loading svelte-x1i5gj">Loading your purchases...</div>'),ts=r('<div class="error-message svelte-x1i5gj"> </div>'),is=r(`<div class="empty-state svelte-x1i5gj"><div class="empty-icon svelte-x1i5gj">ğŸ›ï¸</div> <h2 class="svelte-x1i5gj">No Purchases Yet</h2> <p class="svelte-x1i5gj">You haven't won any auctions yet. Start bidding to see your purchases here!</p> <a href="/products" class="btn-primary svelte-x1i5gj">Browse Products</a></div>`),ls=r('<img class="svelte-x1i5gj"/>'),vs=r('<div class="placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),rs=r('<div class="placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),ds=r('<div class="purchase-card svelte-x1i5gj"><div class="purchase-image svelte-x1i5gj" role="button" tabindex="0"><!></div> <div class="purchase-content svelte-x1i5gj"><div class="purchase-info svelte-x1i5gj" role="button" tabindex="0"><h3 class="svelte-x1i5gj"> </h3> <div class="purchase-price-tag svelte-x1i5gj"> </div> <div class="purchase-meta-row svelte-x1i5gj"><span class="purchase-date svelte-x1i5gj"> </span> <span> </span></div> <div class="purchase-seller svelte-x1i5gj"> </div></div> <div class="purchase-actions svelte-x1i5gj"><a class="btn-message svelte-x1i5gj"><svg class="btn-icon svelte-x1i5gj" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg> Message Seller</a> <a class="btn-view-product svelte-x1i5gj">View Details</a></div></div></div>'),ns=r('<div class="purchases-list svelte-x1i5gj"></div>'),os=r('<div class="purchases-section"><!></div>'),cs=r('<div class="modal-overlay svelte-x1i5gj" role="button" tabindex="-1"><div class="modal-content svelte-x1i5gj" role="dialog" tabindex="-1"><button class="modal-close svelte-x1i5gj">&times;</button> <div class="modal-header svelte-x1i5gj"><h2 class="svelte-x1i5gj">Edit Product</h2></div> <div class="modal-body svelte-x1i5gj"><!></div></div></div>'),gs=r('<div class="modal-image-section svelte-x1i5gj"><!></div>'),us=r('<div class="modal-placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),ps=r('<div class="modal-placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),_s=r('<div class="info-item svelte-x1i5gj"><span class="info-label svelte-x1i5gj">Current Bid:</span> <span class="info-value svelte-x1i5gj"> </span></div>'),xs=r('<div class="modal-overlay svelte-x1i5gj" role="button" tabindex="-1"><div class="modal-content svelte-x1i5gj" role="dialog" tabindex="-1"><button class="modal-close svelte-x1i5gj">&times;</button> <div class="modal-body svelte-x1i5gj"><!> <div class="modal-info svelte-x1i5gj"><h2 class="svelte-x1i5gj"> </h2> <p class="product-description svelte-x1i5gj"> </p> <div class="info-grid svelte-x1i5gj"><div class="info-item svelte-x1i5gj"><span class="info-label svelte-x1i5gj">Starting Price:</span> <span class="info-value svelte-x1i5gj"> </span></div> <!> <div class="info-item svelte-x1i5gj"><span class="info-label svelte-x1i5gj">Auction Ends:</span> <span class="info-value svelte-x1i5gj"> </span></div> <div class="info-item svelte-x1i5gj"><span class="info-label svelte-x1i5gj">Status:</span> <span> </span></div></div> <a class="btn-view-full svelte-x1i5gj">View Full Details</a></div></div></div></div>'),ms=r('<div class="modal-image-section svelte-x1i5gj"><!></div>'),js=r('<div class="modal-placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),fs=r('<div class="modal-placeholder-image svelte-x1i5gj"><span class="placeholder-icon svelte-x1i5gj">ğŸ“¦</span></div>'),hs=r('<div class="modal-overlay svelte-x1i5gj" role="button" tabindex="-1"><div class="modal-content svelte-x1i5gj" role="dialog" tabindex="-1"><button class="modal-close svelte-x1i5gj">&times;</button> <div class="modal-body svelte-x1i5gj"><!> <div class="modal-info svelte-x1i5gj"><h2 class="svelte-x1i5gj"> </h2> <p class="product-description svelte-x1i5gj"> </p> <div class="info-grid svelte-x1i5gj"><div class="info-item svelte-x1i5gj"><span class="info-label svelte-x1i5gj">Won For:</span> <span class="info-value won svelte-x1i5gj"> </span></div> <div class="info-item svelte-x1i5gj"><span class="info-label svelte-x1i5gj">Purchase Date:</span> <span class="info-value svelte-x1i5gj"> </span></div> <div class="info-item svelte-x1i5gj"><span class="info-label svelte-x1i5gj">Status:</span> <span> </span></div></div> <a class="btn-view-full svelte-x1i5gj">View Full Details</a></div></div></div></div>'),bs=r('<div class="dashboard-page svelte-x1i5gj"><div class="page-header svelte-x1i5gj"><h1 class="svelte-x1i5gj">Dashboard</h1> <p class="subtitle svelte-x1i5gj">Manage your products and purchases</p></div> <div class="main-tabs svelte-x1i5gj"><button><span class="tab-icon svelte-x1i5gj">ğŸ“¦</span> <span class="tab-label">My Products</span></button> <button><span class="tab-icon svelte-x1i5gj">ğŸ›ï¸</span> <span class="tab-label">My Purchases</span></button></div> <div class="tab-content svelte-x1i5gj"><!></div></div> <!> <!> <!>',1);function Ys(we,he){ya(he,!0);let w=Da(he,"data",7),ne=de("products"),Me=se(()=>w().activeProducts),Ue=se(()=>w().hiddenProducts),Fe=se(()=>w().endedProducts),Ae=de(wa([])),He=de(!1),Te=de(""),Ye=de(!1),Ne=de(!1),le=de(null),T=de(null),ze=de(!1),H=de(null),_e=de("active");const ra={PHP:"â‚±",USD:"$",EUR:"â‚¬",GBP:"Â£",JPY:"Â¥"};function xe(l,n="PHP"){return`${ra[n]||n}${l.toLocaleString()}`}function ke(l){return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Be(l){switch(l){case"available":return"Active";case"sold":return"Sold";case"ended":return"Ended";case"cancelled":return"Cancelled";default:return l}}function Ie(l){switch(l){case"available":return"status-active";case"sold":return"status-sold";case"ended":return"status-ended";case"cancelled":return"status-cancelled";default:return"status-other"}}function Ke(l){l&&(y(le,l,!0),y(Ye,!0))}function Ce(){y(Ye,!1),y(le,null)}function da(l){const n=k=>{const C=k.findIndex(Y=>Y.id===e(le).id);return C!==-1?(k[C]={...l,seller:e(le).seller},!0):!1};let c=!1;if(n(w().activeProducts)?(w().activeProducts=[...w().activeProducts],c=!0):n(w().hiddenProducts)?(w().hiddenProducts=[...w().hiddenProducts],c=!0):n(w().endedProducts)&&(w().endedProducts=[...w().endedProducts],c=!0),c&&e(le)){const k=e(le).id,C=e(le).active,Y=l.active;C!==Y&&(w().activeProducts=w().activeProducts.filter(B=>B.id!==k),w().hiddenProducts=w().hiddenProducts.filter(B=>B.id!==k),Y?w().activeProducts=[...w().activeProducts,{...l,seller:e(le).seller}]:w().hiddenProducts=[...w().hiddenProducts,{...l,seller:e(le).seller}])}setTimeout(()=>{Ce()},1500)}function Se(l){y(T,l,!0),y(Ne,!0)}function Re(){y(Ne,!1),y(T,null)}function Qe(l){y(H,l,!0),y(ze,!0)}function Oe(){y(ze,!1),y(H,null)}async function Xe(){if(!(e(Ae).length>0)){y(He,!0),y(Te,"");try{y(Ae,await ha(),!0)}catch(l){y(Te,"Failed to load your purchases. Please try again."),console.error("Error loading purchases:",l)}finally{y(He,!1)}}}function Ze(l){y(ne,l,!0),localStorage.setItem("dashboardTab",l);const n=new URL(window.location.href);n.searchParams.set("tab",l),window.history.replaceState({},"",n.toString()),l==="purchases"&&Xe()}Pa(()=>{const l=Aa.url.searchParams.get("tab");if(l==="products"||l==="purchases")y(ne,l,!0);else{const c=localStorage.getItem("dashboardTab");(c==="products"||c==="purchases")&&y(ne,c,!0)}const n=new URL(window.location.href);n.searchParams.set("tab",e(ne)),window.history.replaceState({},"",n.toString()),e(ne)==="purchases"&&Xe()});var $e=bs();Ia("x1i5gj",l=>{Sa(()=>{Ea.title="Dashboard - BidMo.to"})});var We=ue($e),Ge=i(s(We),2),Je=s(Ge);let ea;var aa=i(Je,2);let sa;a(Ge);var ta=i(Ge,2),na=s(ta);{var oa=l=>{var n=as(),c=s(n),k=s(c);let C;var Y=s(k);a(k);var B=i(k,2);let I;var D=s(B);a(B);var N=i(B,2);let b;var $=s(N);a(N),a(c);var oe=i(c,2);{var ve=z=>{var M=fe(),X=ue(M);{var ee=u=>{var x=Va();v(u,x)},q=u=>{var x=Na();Ve(x,21,()=>e(Me),Le,(K,t)=>{var j=Ya(),d=s(j),P=s(d);{var L=m=>{const A=se(()=>e(t).images.filter(V=>V&&V.image&&V.image.url));var Q=fe(),je=ue(Q);{var W=V=>{const ye=se(()=>e(A)[0]);var qe=La();J(()=>{ie(qe,"src",e(ye).image.url),ie(qe,"alt",e(t).title)}),v(V,qe)},G=V=>{var ye=Ua();v(V,ye)};h(je,V=>{e(A).length>0?V(W):V(G,!1)})}v(m,Q)},R=m=>{var A=Fa();v(m,A)};h(P,m=>{e(t).images&&e(t).images.length>0?m(L):m(R,!1)})}a(d);var g=i(d,2),S=s(g),_=s(S,!0);a(S);var f=i(S,2),U=s(f),ae=i(s(U),2),ce=s(ae,!0);a(ae),a(U);var be=i(U,2);{var O=m=>{var A=Ha(),Q=i(s(A),2),je=s(Q,!0);a(Q),a(A),J(W=>o(je,W),[()=>xe(e(t).currentBid,e(t).seller.currency)]),v(m,A)};h(be,m=>{e(t).currentBid&&m(O)})}a(f);var te=i(f,2),Z=s(te),De=s(Z);a(Z);var ge=i(Z,2),Ee=s(ge,!0);a(ge),a(te),a(g);var Pe=i(g,2),F=s(Pe),E=i(F,2);a(Pe),a(j),J((m,A,Q,je)=>{o(_,e(t).title),o(ce,m),o(De,`ğŸ“… Ends: ${A??""}`),pe(ge,1,`status-badge ${Q??""}`,"svelte-x1i5gj"),o(Ee,je)},[()=>xe(e(t).startingPrice,e(t).seller.currency),()=>ke(e(t).auctionEndDate),()=>Ie(e(t).status),()=>Be(e(t).status)]),p("click",d,()=>Se(e(t))),p("click",F,()=>Ke(e(t))),p("click",E,()=>Se(e(t))),v(K,j)}),a(x),v(u,x)};h(X,u=>{e(Me).length===0?u(ee):u(q,!1)})}v(z,M)},re=z=>{var M=fe(),X=ue(M);{var ee=u=>{var x=za();v(u,x)},q=u=>{var x=qa();Ve(x,21,()=>e(Ue),Le,(K,t)=>{var j=Ja(),d=s(j),P=s(d);{var L=F=>{const E=se(()=>e(t).images.filter(W=>W&&W.image&&W.image.url));var m=fe(),A=ue(m);{var Q=W=>{const G=se(()=>e(E)[0]);var V=Ra();J(()=>{ie(V,"src",e(G).image.url),ie(V,"alt",e(t).title)}),v(W,V)},je=W=>{var G=Oa();v(W,G)};h(A,W=>{e(E).length>0?W(Q):W(je,!1)})}v(F,m)},R=F=>{var E=Wa();v(F,E)};h(P,F=>{e(t).images&&e(t).images.length>0?F(L):F(R,!1)})}a(d);var g=i(d,2),S=s(g),_=s(S,!0);a(S);var f=i(S,2),U=s(f),ae=i(s(U),2),ce=s(ae,!0);a(ae),a(U);var be=i(U,2);{var O=F=>{var E=Ga(),m=i(s(E),2),A=s(m,!0);a(m),a(E),J(Q=>o(A,Q),[()=>xe(e(t).currentBid,e(t).seller.currency)]),v(F,E)};h(be,F=>{e(t).currentBid&&F(O)})}a(f);var te=i(f,2),Z=s(te),De=s(Z);a(Z),Ma(2),a(te),a(g);var ge=i(g,2),Ee=s(ge),Pe=i(Ee,2);a(ge),a(j),J((F,E)=>{o(_,e(t).title),o(ce,F),o(De,`ğŸ“… Ends: ${E??""}`)},[()=>xe(e(t).startingPrice,e(t).seller.currency),()=>ke(e(t).auctionEndDate)]),p("click",d,()=>Se(e(t))),p("click",Ee,()=>Ke(e(t))),p("click",Pe,()=>Se(e(t))),v(K,j)}),a(x),v(u,x)};h(X,u=>{e(Ue).length===0?u(ee):u(q,!1)})}v(z,M)},me=z=>{var M=fe(),X=ue(M);{var ee=u=>{var x=Ka();v(u,x)},q=u=>{var x=es();Ve(x,21,()=>e(Fe),Le,(K,t)=>{var j=$a(),d=s(j),P=s(d);{var L=E=>{const m=se(()=>e(t).images.filter(G=>G&&G.image&&G.image.url));var A=fe(),Q=ue(A);{var je=G=>{const V=se(()=>e(m)[0]);var ye=Qa();J(()=>{ie(ye,"src",e(V).image.url),ie(ye,"alt",e(t).title)}),v(G,ye)},W=G=>{var V=Xa();v(G,V)};h(Q,G=>{e(m).length>0?G(je):G(W,!1)})}v(E,A)},R=E=>{var m=Za();v(E,m)};h(P,E=>{e(t).images&&e(t).images.length>0?E(L):E(R,!1)})}a(d);var g=i(d,2),S=s(g),_=s(S,!0);a(S);var f=i(S,2),U=s(f),ae=s(U),ce=s(ae,!0);a(ae);var be=i(ae,2),O=s(be,!0);a(be),a(U),a(f);var te=i(f,2),Z=s(te),De=s(Z);a(Z);var ge=i(Z,2),Ee=s(ge,!0);a(ge),a(te),a(g);var Pe=i(g,2),F=s(Pe);a(Pe),a(j),J((E,m,A,Q)=>{o(_,e(t).title),o(ce,e(t).status==="sold"?"Sold for:":"Final bid:"),o(O,E),o(De,`ğŸ“… Ended: ${m??""}`),pe(ge,1,`status-badge ${A??""}`,"svelte-x1i5gj"),o(Ee,Q)},[()=>xe(e(t).currentBid||e(t).startingPrice,e(t).seller.currency),()=>ke(e(t).auctionEndDate),()=>Ie(e(t).status),()=>Be(e(t).status)]),p("click",d,()=>Se(e(t))),p("click",F,()=>Se(e(t))),v(K,j)}),a(x),v(u,x)};h(X,u=>{e(Fe).length===0?u(ee):u(q,!1)})}v(z,M)};h(oe,z=>{e(_e)==="active"?z(ve):e(_e)==="hidden"?z(re,1):e(_e)==="ended"&&z(me,2)})}a(n),J(()=>{C=pe(k,1,"sub-tab svelte-x1i5gj",null,C,{active:e(_e)==="active"}),o(Y,`Active (${e(Me).length??""})`),I=pe(B,1,"sub-tab svelte-x1i5gj",null,I,{active:e(_e)==="hidden"}),o(D,`Hidden (${e(Ue).length??""})`),b=pe(N,1,"sub-tab svelte-x1i5gj",null,b,{active:e(_e)==="ended"}),o($,`Ended (${e(Fe).length??""})`)}),p("click",k,()=>y(_e,"active")),p("click",B,()=>y(_e,"hidden")),p("click",N,()=>y(_e,"ended")),v(l,n)},ca=l=>{var n=os(),c=s(n);{var k=I=>{var D=ss();v(I,D)},C=I=>{var D=ts(),N=s(D,!0);a(D),J(()=>o(N,e(Te))),v(I,D)},Y=I=>{var D=is();v(I,D)},B=I=>{var D=ns();Ve(D,21,()=>e(Ae),Le,(N,b)=>{var $=ds(),oe=s($),ve=s(oe);{var re=_=>{const f=se(()=>e(b).images.filter(O=>O&&O.image&&O.image.url));var U=fe(),ae=ue(U);{var ce=O=>{const te=se(()=>e(f)[0]);var Z=ls();J(()=>{ie(Z,"src",e(te).image.url),ie(Z,"alt",e(b).title)}),v(O,Z)},be=O=>{var te=vs();v(O,te)};h(ae,O=>{e(f).length>0?O(ce):O(be,!1)})}v(_,U)},me=_=>{var f=rs();v(_,f)};h(ve,_=>{e(b).images&&e(b).images.length>0?_(re):_(me,!1)})}a(oe);var z=i(oe,2),M=s(z),X=s(M),ee=s(X,!0);a(X);var q=i(X,2),u=s(q,!0);a(q);var x=i(q,2),K=s(x),t=s(K);a(K);var j=i(K,2),d=s(j,!0);a(j),a(x);var P=i(x,2),L=s(P);a(P),a(M);var R=i(M,2),g=s(R),S=i(g,2);a(R),a(z),a($),J((_,f,U,ae)=>{var ce;o(ee,e(b).title),o(u,_),o(t,`ğŸ“… ${f??""}`),pe(j,1,`status-badge ${U??""}`,"svelte-x1i5gj"),o(d,ae),o(L,`Seller: ${(((ce=e(b).seller)==null?void 0:ce.name)||"Unknown")??""}`),ie(g,"href",`/inbox?product=${e(b).id??""}`),ie(S,"href",`/products/${e(b).id??""}`)},[()=>xe(e(b).currentBid||e(b).startingPrice,e(b).seller.currency),()=>ke(e(b).updatedAt),()=>Ie(e(b).status),()=>Be(e(b).status)]),p("click",oe,()=>Qe(e(b))),p("click",M,()=>Qe(e(b))),v(N,$)}),a(D),v(I,D)};h(c,I=>{e(He)?I(k):e(Te)?I(C,1):e(Ae).length===0?I(Y,2):I(B,!1)})}a(n),v(l,n)};h(na,l=>{e(ne)==="products"?l(oa):l(ca,!1)})}a(ta),a(We);var ia=i(We,2);{var ga=l=>{var n=cs(),c=s(n),k=s(c),C=i(k,4),Y=s(C);Ta(Y,{mode:"edit",get product(){return e(le)},onSuccess:da,onCancel:Ce}),a(C),a(c),a(n),p("keydown",n,B=>B.key==="Escape"&&Ce()),p("keydown",c,B=>B.stopPropagation()),p("click",k,Ce),v(l,n)};h(ia,l=>{e(Ye)&&e(le)&&l(ga)})}var la=i(ia,2);{var ua=l=>{var n=xs(),c=s(n),k=s(c),C=i(k,2),Y=s(C);{var B=d=>{const P=se(()=>e(T).images.filter(_=>_&&_.image&&_.image.url));var L=fe(),R=ue(L);{var g=_=>{var f=gs(),U=s(f);va(U,{get images(){return e(P)},get productTitle(){return e(T).title}}),a(f),v(_,f)},S=_=>{var f=us();v(_,f)};h(R,_=>{e(P).length>0?_(g):_(S,!1)})}v(d,L)},I=d=>{var P=ps();v(d,P)};h(Y,d=>{e(T).images&&e(T).images.length>0?d(B):d(I,!1)})}var D=i(Y,2),N=s(D),b=s(N,!0);a(N);var $=i(N,2),oe=s($,!0);a($);var ve=i($,2),re=s(ve),me=i(s(re),2),z=s(me,!0);a(me),a(re);var M=i(re,2);{var X=d=>{var P=_s(),L=i(s(P),2),R=s(L,!0);a(L),a(P),J(g=>o(R,g),[()=>xe(e(T).currentBid,e(T).seller.currency)]),v(d,P)};h(M,d=>{e(T).currentBid&&d(X)})}var ee=i(M,2),q=i(s(ee),2),u=s(q,!0);a(q),a(ee);var x=i(ee,2),K=i(s(x),2),t=s(K,!0);a(K),a(x),a(ve);var j=i(ve,2);a(D),a(C),a(c),a(n),J((d,P,L,R)=>{o(b,e(T).title),o(oe,e(T).description),o(z,d),o(u,P),pe(K,1,`status-badge ${L??""}`,"svelte-x1i5gj"),o(t,R),ie(j,"href",`/products/${e(T).id??""}`)},[()=>xe(e(T).startingPrice,e(T).seller.currency),()=>ke(e(T).auctionEndDate),()=>Ie(e(T).status),()=>Be(e(T).status)]),p("click",n,Re),p("keydown",n,d=>d.key==="Escape"&&Re()),p("click",c,d=>d.stopPropagation()),p("keydown",c,d=>d.stopPropagation()),p("click",k,Re),v(l,n)};h(la,l=>{e(Ne)&&e(T)&&l(ua)})}var pa=i(la,2);{var _a=l=>{var n=hs(),c=s(n),k=s(c),C=i(k,2),Y=s(C);{var B=t=>{const j=se(()=>e(H).images.filter(g=>g&&g.image&&g.image.url));var d=fe(),P=ue(d);{var L=g=>{var S=ms(),_=s(S);va(_,{get images(){return e(j)},get productTitle(){return e(H).title}}),a(S),v(g,S)},R=g=>{var S=js();v(g,S)};h(P,g=>{e(j).length>0?g(L):g(R,!1)})}v(t,d)},I=t=>{var j=fs();v(t,j)};h(Y,t=>{e(H).images&&e(H).images.length>0?t(B):t(I,!1)})}var D=i(Y,2),N=s(D),b=s(N,!0);a(N);var $=i(N,2),oe=s($,!0);a($);var ve=i($,2),re=s(ve),me=i(s(re),2),z=s(me,!0);a(me),a(re);var M=i(re,2),X=i(s(M),2),ee=s(X,!0);a(X),a(M);var q=i(M,2),u=i(s(q),2),x=s(u,!0);a(u),a(q),a(ve);var K=i(ve,2);a(D),a(C),a(c),a(n),J((t,j,d,P)=>{o(b,e(H).title),o(oe,e(H).description),o(z,t),o(ee,j),pe(u,1,`status-badge ${d??""}`,"svelte-x1i5gj"),o(x,P),ie(K,"href",`/products/${e(H).id??""}`)},[()=>xe(e(H).currentBid||e(H).startingPrice,e(H).seller.currency),()=>ke(e(H).updatedAt),()=>Ie(e(H).status),()=>Be(e(H).status)]),p("click",n,Oe),p("keydown",n,t=>t.key==="Escape"&&Oe()),p("click",c,t=>t.stopPropagation()),p("keydown",c,t=>t.stopPropagation()),p("click",k,Oe),v(l,n)};h(pa,l=>{e(ze)&&e(H)&&l(_a)})}J(()=>{ea=pe(Je,1,"main-tab svelte-x1i5gj",null,ea,{active:e(ne)==="products"}),sa=pe(aa,1,"main-tab svelte-x1i5gj",null,sa,{active:e(ne)==="purchases"})}),p("click",Je,()=>Ze("products")),p("click",aa,()=>Ze("purchases")),v(we,$e),ka()}Ba(["click","keydown"]);export{Ys as component,Hs as universal};
